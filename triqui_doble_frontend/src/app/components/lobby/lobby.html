<div class="lobby-container">
  <h1>Bienvenido {{ websocketService.username }}</h1>
  <div class="lobby-actions">
    <button (click)="verRanking()" class="btn-primary">Ver Ranking</button>
    <button (click)="verTutorial()" class="btn-primary">C√≥mo Jugar</button>
    <button (click)="crearSala()" class="btn-primary">Crear Sala</button>
    <div class="card glass-card">
      <input type="text" [(ngModel)]="codigoSala" placeholder="Codigo de sala" class="custom-input" />
      <button (click)="unirseSala()" class="btn-primary">Unirse a Sala</button>
    </div>
  </div>
</div>
<div *ngIf="mostrarRanking" class="ranking-modal-container">
  <div class="ranking-content">
    <button (click)="cerrarRanking()" class="btn-close"><span aria-hidden="true">&times;</span></button>
    <h2>Ranking de Jugadores</h2>
    <div class="table-wrapper">
      <table class="ranking-table">
        <thead>
          <tr>
            <th>Posici√≥n</th>
            <th>Usuario</th>
            <th class="centered-header">Puntaje</th>
            <th>Victorias</th>
            <th>Derrotas</th>
            <th>Empates</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of ranking; let i = index">
            <td *ngIf="i === 0">ü•á</td>
            <td *ngIf="i === 1">ü•à</td>
            <td *ngIf="i === 2">ü•â</td>
            <td *ngIf="i > 2">{{ i + 1 }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.estadisticas.puntaje }}</td>
            <td>{{ user.estadisticas.partidasGanadas }}</td>
            <td>{{ user.estadisticas.partidasPerdidas }}</td>
            <td>{{ user.estadisticas.partidasEmpatadas }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div *ngIf="mostrarTutorial" class="ranking-modal-container">
  <div class="ranking-content">
    <button (click)="cerrarTutorial()" class="btn-close"><span aria-hidden="true">&times;</span></button>
    <h2>¬øC√≥mo Jugar Triqui Doble?</h2>
    <div class="tutorial-body">
      <div class="tutorial-step">
        <h3>1. El Tablero</h3>
        <p>El juego consta de un <strong>Tablero Principal</strong> de 3x3, donde cada casilla contiene un <strong>Mini-Tablero</strong> tambi√©n de 3x3.</p>
      </div>
      <div class="tutorial-step">
        <h3>2. El Objetivo</h3>
        <p>Para ganar el juego, debes ganar 3 <strong>Mini-Tableros</strong> en l√≠nea (horizontal, vertical o diagonal), tal como en el triqui cl√°sico.</p>
      </div>
      <div class="tutorial-step highlight-step">
        <h3>3. La Regla de Oro</h3>
        <p>Tu movimiento determina en qu√© Mini-Tablero debe jugar tu oponente.</p>
        <div class="visual-rule">
          <div class="rule-part">
            <span>Si marcas la casilla <br/><strong>Superior Derecha</strong>...</span>
            <div class="demo-board mini">
              <div class="d-cell"></div>
              <div class="d-cell"></div>
              <div class="d-cell active">X</div>
              <div class="d-cell"></div>
              <div class="d-cell"></div>
              <div class="d-cell"></div>
              <div class="d-cell"></div>
              <div class="d-cell"></div>
              <div class="d-cell"></div>
            </div>
          </div>
          <div class="rule-arrow">‚ûú</div>
          <div class="rule-part">
            <span>Tu oponente va al <br/><strong>Mini-Tablero Superior Derecho</strong></span>
            <div class="demo-board macro">
              <div class="d-region"></div>
              <div class="d-region"></div>
              <div class="d-region highlight"></div>
              <div class="d-region"></div>
              <div class="d-region"></div>
              <div class="d-region"></div>
              <div class="d-region"></div>
              <div class="d-region"></div>
              <div class="d-region"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="tutorial-step">
        <h3>4. Libertad de Movimiento</h3>
        <p>Si te env√≠an a un Mini-Tablero que ya est√° <strong>lleno</strong>, puedes jugar en cualquier parte del tablero.</p>
      </div>
      <div class="tutorial-step">
        <h3>5. Iniciar Partida</h3>
        <p>Al crear la sala, el jugador empieza con la ficha <strong>X</strong>. Se genera un c√≥digo de sala que se muestra en la pantalla, este se comparte con el otro jugador el cual tendr√° la ficha <strong>O</strong>.</p>
      </div>
      <div class="tutorial-step">
        <h3>6. Puntaje</h3>
        <p>Por cada mini-tablero ganado se obtienen <strong>10 puntos</strong>. Al ganar el juego se obtienen <strong>50 puntos</strong>.</p>
      </div>
    </div>
  </div>
</div>
